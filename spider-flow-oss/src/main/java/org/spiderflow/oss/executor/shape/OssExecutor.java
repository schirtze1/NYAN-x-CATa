package org.spiderflow.oss.executor.shape;

import java.util.Map;

import org.apache.commons.lang3.StringUtils;
import org.spiderflow.context.SpiderContext;
import org.spiderflow.executor.ShapeExecutor;
import org.spiderflow.model.Shape;
import org.spiderflow.model.SpiderNode;
import org.spiderflow.oss.model.Oss;
import org.springframework.stereotype.Component;

@Component
public class OssExecutor implements ShapeExecutor{
	
	public static final String ENDPOINT = "endpoint";
	
	public static final String ACCESS_KEY_ID = "accessKeyId";
	
	public static final String ACCESS_KEY_SECRET = "accessKeySecret";
	
	public static final String BUCKET_NAME = "bucketName";
	
	public static final String OSS_CONTEXT_KEY = "$oss_";
	
	@Override
	public String supportShape() {
		return "oss";
	}
	
	@Override
	public Shape shape() {
		Shape shape = new Shape();
		shape.setImage("data:image/png;base64,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");
		shape.setLabel("OSS");
		shape.setName("oss");
		shape.setTitle("OSS");
		return shape;
	}

	@Override
	public void execute(SpiderNode node, SpiderContext context, Map<String, Object> variables) {
		String endpoint = node.getStringJsonValue(ENDPOINT);
		String accessKeyId = node.getStringJsonValue(ACCESS_KEY_ID);
		String accessKeySecret = node.getStringJsonValue(ACCESS_KEY_SECRET);
		String bucketName = node.getStringJsonValue(BUCKET_NAME);
		if (StringUtils.isBlank(endpoint)) {
			context.debug("endpoint不能为空！");
		} else if (StringUtils.isBlank(accessKeyId)) {
			context.debug("accessKeyId不能为空！");
		} else if (StringUtils.isBlank(accessKeySecret)) {
			context.debug("accessKeySecret不能为空！");
		} else if (StringUtils.isBlank(bucketName)) {
			context.debug("bucketName不能为空！");
		} else {
			Oss oss = new Oss(endpoint,accessKeyId,accessKeySecret,bucketName);
			context.put(OSS_CONTEXT_KEY + node.getNodeId(), oss);
		}
	}

}
