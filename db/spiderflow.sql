SET FOREIGN_KEY_CHECKS=0;

DROP TABLE IF EXISTS `sp_flow`;
CREATE TABLE `sp_flow` (
  `id` varchar(32) NOT NULL,
  `name` varchar(64) DEFAULT NULL,
  `xml` longtext,
  `cron` varchar(255) DEFAULT NULL,
  `enabled` char(1) DEFAULT '0',
  `create_date` datetime DEFAULT CURRENT_TIMESTAMP,
  `last_execute_time` datetime DEFAULT NULL,
  `next_execute_time` datetime DEFAULT NULL,
  `execute_count` int(8) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `sp_flow` VALUES ('0635716a9bbc454aaea37a90f70794a1', '妹子图', '<mxGraphModel>\r\n  <root>\r\n    <mxCell id=\"0\">\r\n      <JsonProperty as=\"data\">\r\n        {&quot;spiderName&quot;:&quot;妹子图&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"1\" parent=\"0\"/>\r\n    <mxCell id=\"2\" value=\"开始\" style=\"start\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"80\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;shape&quot;:&quot;start&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"3\" value=\"开始抓取\" style=\"request\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"211.33334350585938\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;开始抓取&quot;,&quot;loopVariableName&quot;:&quot;pageIndex&quot;,&quot;loopCount&quot;:&quot;50&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;url&quot;:&quot;http://www.meizitu.org/page/${pageIndex}&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;shape&quot;:&quot;request&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"4\" value=\"获取url和title\" style=\"variable\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"340\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;获取url和title&quot;,&quot;variable-name&quot;:[&quot;url&quot;,&quot;title&quot;],&quot;variable-value&quot;:[&quot;${xpaths(resp.html,&#39;//div[@class=\\&quot;thumb\\&quot;]/img/@src&#39;)}&quot;,&quot;${selectors(resp.html,&#39;.action-btn a&#39;,&#39;text&#39;)}&quot;],&quot;shape&quot;:&quot;variable&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"5\" value=\"\" parent=\"1\" source=\"2\" target=\"3\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"6\" value=\"\" parent=\"1\" source=\"3\" target=\"4\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"7\" value=\"开始抓取\" style=\"request\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"450.16668701171875\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;开始抓取&quot;,&quot;loopVariableName&quot;:&quot;urlIndex&quot;,&quot;loopCount&quot;:&quot;${url?size}&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;url&quot;:&quot;${url[urlIndex]}&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;shape&quot;:&quot;request&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"8\" value=\"\" parent=\"1\" source=\"4\" target=\"7\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"9\" value=\"执行函数\" style=\"function\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"570\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;执行函数&quot;,&quot;function&quot;:&quot;${file.write(&#39;d:/meizi/&#39; + string.uuid() + &#39;.jpg&#39;,resp.bytes)}&quot;,&quot;shape&quot;:&quot;function&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"10\" value=\"\" parent=\"1\" source=\"7\" target=\"9\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n  </root>\r\n</mxGraphModel>', null, '0', '2019-08-22 13:48:42', null, null, null);
INSERT INTO `sp_flow` VALUES ('383672e043374d3dbc853aadf88c886d', '爬取某网站图片', '<mxGraphModel>\r\n  <root>\r\n    <mxCell id=\"0\">\r\n      <JsonProperty as=\"data\">\r\n        {&quot;spiderName&quot;:&quot;抓取某网站图片&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"1\" parent=\"0\"/>\r\n    <mxCell id=\"2\" value=\"开始\" style=\"start\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"80\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;shape&quot;:&quot;start&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"3\" value=\"定义数据源\" style=\"datasource\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"209.83334350585938\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;定义数据源&quot;,&quot;datasourceType&quot;:&quot;mysql&quot;,&quot;datasourceUrl&quot;:&quot;jdbc:mysql://139.129.45.208:3306/xbs?useUnicode=true&amp;characterEncoding=utf-8&quot;,&quot;datasourceUsername&quot;:&quot;xbs&quot;,&quot;datasourcePassword&quot;:&quot;xbsxbs&quot;,&quot;shape&quot;:&quot;datasource&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"4\" value=\"\" parent=\"1\" source=\"2\" target=\"3\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"5\" value=\"提取下一个要访问的图片地址\" style=\"variable\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"460\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;提取下一个要访问的图片地址&quot;,&quot;variable-name&quot;:[&quot;nextfigure&quot;,&quot;imgesUrl&quot;,&quot;imgesName&quot;],&quot;variable-value&quot;:[&quot;${selector(resp.html,&#39;.pic-next-img a&#39;,&#39;attr&#39;,&#39;href&#39;)}&quot;,&quot;${selector(resp.html,&#39;.pic-large&#39;,&#39;attr&#39;,&#39;src&#39;)}&quot;,&quot;${selector(resp.html,&#39;.pic-large&#39;,&#39;attr&#39;,&#39;alt&#39;)}&quot;],&quot;shape&quot;:&quot;variable&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"9\" value=\"抓取5次\" style=\"variable\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"590\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;抓取50次&quot;,&quot;variable-name&quot;:[&quot;projectIndex&quot;],&quot;variable-value&quot;:[&quot;${((projectIndex)!&#39;0&#39;)?number + 1}&quot;],&quot;shape&quot;:&quot;variable&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"10\" value=\"\" parent=\"1\" source=\"5\" target=\"9\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"11\" value=\"抓取下一页\" style=\"request\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"760\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;抓取下一页&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;url&quot;:&quot;${nextfigure}&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;shape&quot;:&quot;request&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"13\" value=\"projectIndex&lt;=5\" parent=\"1\" source=\"9\" target=\"11\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;projectIndex&lt;=5&quot;,&quot;condition&quot;:&quot;${projectIndex&lt;=5}&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"14\" value=\"提取下一个要访问的图片地址\" style=\"variable\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"760.1666870117188\" y=\"179.83334350585938\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;提取下一个要访问的图片地址&quot;,&quot;variable-name&quot;:[&quot;nextfigure&quot;,&quot;imgesUrl&quot;,&quot;imgesName&quot;],&quot;variable-value&quot;:[&quot;${selector(resp.html,&#39;.pic-next-img a&#39;,&#39;attr&#39;,&#39;href&#39;)}&quot;,&quot;${selector(resp.html,&#39;.pic-large&#39;,&#39;attr&#39;,&#39;src&#39;)}&quot;,&quot;${selector(resp.html,&#39;.pic-large&#39;,&#39;attr&#39;,&#39;alt&#39;)}&quot;],&quot;shape&quot;:&quot;variable&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"15\" value=\"\" parent=\"1\" source=\"11\" target=\"14\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"16\" value=\"执行SQL\" style=\"executeSql\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"760\" y=\"280.16668701171875\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;执行SQL&quot;,&quot;datasourceId&quot;:&quot;3&quot;,&quot;statementType&quot;:&quot;insert&quot;,&quot;sql&quot;:&quot;INSERT INTO imges (name, url) VALUES (#${imgesName}#,#${imgesUrl}#)&quot;,&quot;shape&quot;:&quot;executeSql&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"18\" value=\"\" parent=\"1\" source=\"14\" target=\"16\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"19\" value=\"输出\" style=\"output\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"450.16668701171875\" y=\"280.16668701171875\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;输出&quot;,&quot;output-name&quot;:[&quot;图片地址&quot;,&quot;图片名称&quot;],&quot;output-value&quot;:[&quot;${imgesUrl}&quot;,&quot;${imgesName}&quot;],&quot;shape&quot;:&quot;output&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"20\" value=\"\" parent=\"1\" source=\"16\" target=\"19\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"21\" value=\"\" parent=\"1\" source=\"19\" target=\"5\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"22\" value=\"抓取页面开始\" style=\"request\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"299.8333435058594\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;开始抓取&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;url&quot;:&quot;http://www.win4000.com/wallpaper_detail_117476_2.html&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;shape&quot;:&quot;request&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"23\" value=\"\" parent=\"1\" source=\"3\" target=\"22\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"24\" value=\"\" parent=\"1\" source=\"22\" target=\"5\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n  </root>\r\n</mxGraphModel>', null, '0', '2019-08-22 13:47:45', null, null, null);
INSERT INTO `sp_flow` VALUES ('b45fb98d2a564c23ba623a377d5e12e9', '爬取码云GVP', '<mxGraphModel>\r\n  <root>\r\n    <mxCell id=\"0\">\r\n      <JsonProperty as=\"data\">\r\n        {&quot;spiderName&quot;:&quot;爬取码云GVP&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"1\" parent=\"0\"/>\r\n    <mxCell id=\"2\" value=\"开始\" style=\"start\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"80\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;shape&quot;:&quot;start&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"5\" value=\"抓取首页\" style=\"request\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"180\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;开始抓取&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://gitee.com/gvp/all&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;shape&quot;:&quot;request&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"6\" value=\"\" parent=\"1\" source=\"2\" target=\"5\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"7\" value=\"提取项目名、地址\" style=\"variable\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"330\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;提取项目名、地址&quot;,&quot;variable-name&quot;:[&quot;projectUrls&quot;,&quot;projectNames&quot;],&quot;variable-value&quot;:[&quot;${selectors(resp.html,&#39;.categorical-project-card a&#39;,&#39;attr&#39;,&#39;href&#39;)}&quot;,&quot;${selectors(resp.html,&#39;.project-name&#39;)}&quot;],&quot;shape&quot;:&quot;variable&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"8\" value=\"\" parent=\"1\" source=\"5\" target=\"7\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"9\" value=\"抓取详情页\" style=\"request\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"450.16668701171875\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;抓取详情页&quot;,&quot;loopVariableName&quot;:&quot;projectIndex&quot;,&quot;loopCount&quot;:&quot;10&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://gitee.com/${projectUrls[projectIndex]}&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;shape&quot;:&quot;request&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"10\" value=\"\" parent=\"1\" source=\"7\" target=\"9\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"12\" value=\"提取项目描述\" style=\"variable\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"550\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;提取项目描述&quot;,&quot;variable-name&quot;:[&quot;projectDesc&quot;],&quot;variable-value&quot;:[&quot;${selector(resp.html,&#39;.git-project-desc-text&#39;)}&quot;],&quot;shape&quot;:&quot;variable&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"13\" value=\"\" parent=\"1\" source=\"9\" target=\"12\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"14\" value=\"输出\" style=\"output\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"660.1666870117188\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;输出&quot;,&quot;output-name&quot;:[&quot;项目名&quot;,&quot;项目地址&quot;,&quot;项目描述&quot;],&quot;output-value&quot;:[&quot;${projectNames[projectIndex]}&quot;,&quot;https://gitee.com${projectUrls[projectIndex]}&quot;,&quot;${projectDesc}&quot;],&quot;shape&quot;:&quot;output&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"15\" value=\"\" parent=\"1\" source=\"12\" target=\"14\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n  </root>\r\n</mxGraphModel>', null, '0', '2019-08-22 13:46:54', null, null, null);
INSERT INTO `sp_flow` VALUES ('f0a67f17ee1a498a9b2f4ca30556f3c3', '抓取每日菜价', '<mxGraphModel>\r\n  <root>\r\n    <mxCell id=\"0\">\r\n      <JsonProperty as=\"data\">\r\n        {&quot;spiderName&quot;:&quot;抓取每日菜价&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"1\" parent=\"0\"/>\r\n    <mxCell id=\"2\" value=\"开始\" style=\"start\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"80\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;shape&quot;:&quot;start&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"3\" value=\"开始抓取\" style=\"request\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"219.83334350585938\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;开始抓取&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;url&quot;:&quot;http://www.beijingprice.cn:8086/price/priceToday/PageLoad/LoadPrice?jsoncallback=1&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;shape&quot;:&quot;request&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"4\" value=\"\" parent=\"1\" source=\"2\" target=\"3\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"5\" value=\"解析JSON\" style=\"variable\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"350\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;解析JSON&quot;,&quot;variable-name&quot;:[&quot;json&quot;,&quot;jsondata&quot;,&quot;data&quot;],&quot;variable-value&quot;:[&quot;${resp.html?substring(2,resp.html?length-1)}&quot;,&quot;${jsonarray(json)}&quot;,&quot;${jsonobject(jsondata[0],&#39;data&#39;)}&quot;],&quot;shape&quot;:&quot;variable&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"6\" value=\"\" parent=\"1\" source=\"3\" target=\"5\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"7\" value=\"输出\" style=\"output\" parent=\"1\" vertex=\"1\">\r\n      <mxGeometry x=\"480.16668701171875\" y=\"80\" width=\"24\" height=\"24\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;输出&quot;,&quot;loopVariableName&quot;:&quot;i&quot;,&quot;loopCount&quot;:&quot;${data?size}&quot;,&quot;output-name&quot;:[&quot;菜名&quot;,&quot;菜价&quot;,&quot;单位&quot;],&quot;output-value&quot;:[&quot;${data[i].ItemName}&quot;,&quot;${data[i].Price04}&quot;,&quot;${data[i].ItemUnit}&quot;],&quot;shape&quot;:&quot;output&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n    <mxCell id=\"8\" value=\"\" parent=\"1\" source=\"5\" target=\"7\" edge=\"1\">\r\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\r\n      <JsonProperty as=\"data\">\r\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\r\n      </JsonProperty>\r\n    </mxCell>\r\n  </root>\r\n</mxGraphModel>', null, '0', '2019-08-22 13:48:22', null, null, null);
